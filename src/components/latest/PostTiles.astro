---
import './PostTiles.css';
const { posts } = Astro.props;
console.log(posts.map(p => p.data.image.placeholder));
---

<div class="tiles-container">
  {
    posts.map(post => (
      <article class="tile">
        <a class="tile__link-container" href={'/blog/' + post.slug}>
          <div class="tile__picture-container" style={`background-image: url(${post.data.image.placeholder})`}>
            <img class="tile__picture" src={post.data.image.url} transition:name={'img_' + post.slug} loading="lazy" />
            <div class="tile__title title" transition:name={'title_' + post.slug}>
              {post.data.title}
            </div>
          </div>
          <div class="tile__description">{post.data.description}</div>
          <span class="tile__date" transition:name={'publishedAt_' + post.slug}>
            {post.data.publishedAt.toLocaleDateString()}
          </span>
        </a>
      </article>
    ))
  }
</div>
